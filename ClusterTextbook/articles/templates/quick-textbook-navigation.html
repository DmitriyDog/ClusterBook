<div class="search-textbook-group">

</div>

<ol>
    {% if chapter_list %}
        {% for chap in chapter_list %}
            <li>
            {% if chap.article_set.all|length > 1 %}
                {{ chap.chapter_name }}
                <ol>
                    {% for article in chap.article_set.all %}
                        <li><a href="{% url 'article_page' article.pk %}" class="textbook-link">
                            {{ article.article_name }}</a></li>
                    {% endfor %}
                </ol>
            {% else %}
                {% with article=chap.article_set.all|first %}
                <a href="{% url 'article_page' article.pk %}" class="textbook-link">
                    {{ chap.chapter_name }}</a>
                {% endwith %}
            {% endif %}
            </li>
        {% endfor %}
    {% endif %}
</ol>